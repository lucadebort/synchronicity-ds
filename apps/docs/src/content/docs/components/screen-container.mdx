---
title: ScreenContainer
description: Consistent screen wrapper with pre-calculated safe areas
---

import { Aside } from '@astrojs/starlight/components';
import PreviewBox from '../../../components/PreviewBox.astro';

# ScreenContainer

ScreenContainer provides a consistent wrapper for screens with pre-calculated safe area padding. It uses `initialWindowMetrics` for immediate rendering without layout shifts.

## Preview

<PreviewBox defaultTheme="dark">
  <div class="screen-container">
    <div class="safe-area-indicator top">Safe Area Top</div>
    <div class="screen-content">
      <span>Screen Content</span>
    </div>
    <div class="safe-area-indicator bottom">Safe Area Bottom</div>
  </div>
</PreviewBox>

---

## Usage

```tsx
import { ScreenContainer } from '@synchronicity/react-native';

function MyScreen() {
  return (
    <ScreenContainer edges={['top', 'bottom']}>
      <View style={styles.content}>
        {/* Screen content */}
      </View>
    </ScreenContainer>
  );
}
```

---

## Edge Options

Control which edges receive safe area padding:

<PreviewBox>
  <div class="edges-demo">
    <div class="edge-option">
      <div class="edge-box top-only">
        <div class="edge-highlight top"></div>
      </div>
      <span class="edge-label">Top only (default)</span>
    </div>
    <div class="edge-option">
      <div class="edge-box all-edges">
        <div class="edge-highlight top"></div>
        <div class="edge-highlight bottom"></div>
        <div class="edge-highlight left"></div>
        <div class="edge-highlight right"></div>
      </div>
      <span class="edge-label">All edges</span>
    </div>
    <div class="edge-option">
      <div class="edge-box bottom-only">
        <div class="edge-highlight bottom"></div>
      </div>
      <span class="edge-label">Bottom only</span>
    </div>
  </div>
</PreviewBox>

| Edges | Usage |
|-------|-------|
| `['top']` | Default, most screens |
| `['top', 'bottom']` | Screens with bottom content |
| `['left', 'right']` | Landscape modes |
| `['top', 'bottom', 'left', 'right']` | Full safe area |

---

## How It Works

ScreenContainer uses a two-phase approach for safe area handling:

1. **Initial Render**: Uses `initialWindowMetrics` for immediate padding
2. **Live Update**: Switches to `useSafeAreaInsets()` once measured

This prevents the "jump" that occurs when safe area measurements arrive asynchronously.

```tsx
// Use initial metrics for immediate rendering
const getInitialTopInset = () => {
  return initialWindowMetrics?.insets.top ?? 0;
};

// Use live insets if available, otherwise fall back to initial metrics
const topInset = insets.top > 0 ? insets.top : getInitialTopInset();
```

---

## API Reference

### Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `ReactNode` | - | Screen content |
| `style` | `ViewStyle` | - | Additional container styles |
| `edges` | `('top' \| 'bottom' \| 'left' \| 'right')[]` | `['top']` | Edges to apply safe area padding |

### Tokens Used

```ts
// Background
theme.colors.background  // Screen background color
```

---

## Usage Guidelines

### Do

- Use ScreenContainer as the root of every screen
- Specify only necessary edges to avoid wasted space
- Combine with `edges={['top']}` for most scrollable content

### Don't

- Nest ScreenContainer inside ScreenContainer
- Apply manual padding for safe areas (let the component handle it)
- Use for modal content (modals have their own safe area handling)

<Aside type="tip">
For screens with a TabBar, use `edges={['top']}` since the TabBar handles bottom safe area padding.
</Aside>

---

## Complete Example

```tsx
import { ScreenContainer } from '@synchronicity/react-native';
import { ScrollView, View } from 'react-native';

function ReadingDetailScreen({ reading }) {
  return (
    <ScreenContainer edges={['top']}>
      <ScrollView contentContainerStyle={styles.scrollContent}>
        <HexagramVisual
          hexagramNumber={reading.hexagramNumber}
          size="large"
        />
        <Text style={styles.title}>{reading.name}</Text>
        <Text style={styles.description}>{reading.judgment}</Text>
      </ScrollView>
    </ScreenContainer>
  );
}
```

<style>{`
  .screen-container {
    width: 200px;
    height: 320px;
    background: #12121a;
    border: 1px solid #2a2a38;
    border-radius: 24px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }

  .preview-content[data-theme="light"] .screen-container {
    background: #faf8f3;
    border-color: #e0dcd0;
  }

  .safe-area-indicator {
    background: rgba(212, 175, 55, 0.15);
    color: #d4af37;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    text-align: center;
    padding: 8px;
    border: 1px dashed rgba(212, 175, 55, 0.3);
  }

  .safe-area-indicator.top {
    border-top: none;
    border-left: none;
    border-right: none;
  }

  .safe-area-indicator.bottom {
    border-bottom: none;
    border-left: none;
    border-right: none;
  }

  .screen-content {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #8a8a9a;
    font-size: 14px;
  }

  .edges-demo {
    display: flex;
    gap: 24px;
    align-items: flex-end;
  }

  .edge-option {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
  }

  .edge-box {
    width: 60px;
    height: 100px;
    background: #1a1a24;
    border: 1px solid #2a2a38;
    border-radius: 8px;
    position: relative;
    overflow: hidden;
  }

  .preview-content[data-theme="light"] .edge-box {
    background: #f5f2ea;
    border-color: #e0dcd0;
  }

  .edge-highlight {
    position: absolute;
    background: rgba(212, 175, 55, 0.3);
  }

  .edge-highlight.top {
    top: 0;
    left: 0;
    right: 0;
    height: 12px;
  }

  .edge-highlight.bottom {
    bottom: 0;
    left: 0;
    right: 0;
    height: 12px;
  }

  .edge-highlight.left {
    top: 0;
    bottom: 0;
    left: 0;
    width: 8px;
  }

  .edge-highlight.right {
    top: 0;
    bottom: 0;
    right: 0;
    width: 8px;
  }

  .edge-label {
    font-size: 11px;
    color: #8a8a9a;
    text-align: center;
  }
`}</style>
